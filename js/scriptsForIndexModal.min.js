let inputModal=document.querySelector(".input__modal"),contactButton=document.querySelector(".contact_button"),cancelInput=inputModal.querySelector(".cancel__button"),selfname=inputModal.querySelector("[name=selfname]"),email=inputModal.querySelector("[name=email]"),textletter=inputModal.querySelector("[name=mail-text]"),isStorageSupport=!1,storage="",form=document.querySelector("form");form.addEventListener("submit",function(e){selfname.value&&email.value&&textletter.value?isStorageSupport&&(localStorage.setItem("selfname",selfname.value),localStorage.setItem("email",email.value),localStorage.setItem("textlette",textletter.value)):(e.preventDefault(),form.classList.remove("modal-error"),form.offsetWidth=form.offsetWidth,form.classList.add("modal-error"))});try{storage=localStorage.getItem("selfname")}catch(e){isStorageSupport=!1}contactButton.addEventListener("click",function(){inputModal.classList.add("modal-show"),inputModal.classList.remove("modal-error"),selfname.focus(),storage?(selfname.value=storage,email.focus()):selfname.focus()}),window.addEventListener("keydown",function(e){27===e.keyCode&&inputModal.classList.contains("modal-show")&&(e.preventDefault(),inputModal.classList.remove("modal-show"),inputModal.classList.remove("modal-error"))}),cancelInput.addEventListener("click",function(){inputModal.classList.contains("modal-show")&&(inputModal.classList.remove("modal-show"),inputModal.classList.remove("modal-error"))});let mapModal=document.querySelector(".map__modal"),mapOpen=document.querySelector(".js_open_map"),cancelMap=mapModal.querySelector(".cancel__button");mapOpen.addEventListener("click",function(){mapModal.classList.add("modal-show")}),cancelMap.addEventListener("click",function(){mapModal.classList.remove("modal-show")}),document.addEventListener("keydown",function(e){27===e.keyCode&&mapModal.classList.remove("modal-show")});